# PRD: dcamp 포트폴리오 기업 컨텍스트 브리핑

## 1. 개요 (Background & Goals)

### 서비스 요약
기업명을 검색하면, 디캠프와 그 기업 사이에 오간 모든 맥락(멘토링, 점검미팅, KPT 회고, 전문가 투입, OKR, Slack)을 AI가 종합 분석해서 "지금 이 팀 어떤 상황이고, 다음 미팅에서 뭘 물어야 하는지" 3분 안에 파악할 수 있는 내부용 웹 도구.

### 타겟 사용자
- **1순위**: dcamp 사업실 PM — 배치 기업을 직접 관리하며 멘토링을 코디하는 사람
- **2순위**: 멘토 — 미팅 전 기업 현황을 빠르게 파악해야 하는 외부 전문가
- **3순위**: 경영진 — 포트폴리오 전체 현황을 조회하는 의사결정자

### 해결하려는 문제
디캠프는 배치 프로그램으로 수십 개 스타트업을 동시에 지원한다. 한 기업당 멘토링·점검미팅·KPT 회고·전문가 투입·OKR·Slack 소통이 병렬로 일어나는데, 이 데이터가 **노션·구글 드라이브·슬랙·구글 시트**에 흩어져 있다.

PM이 멘토 미팅 전에 기업 현황을 파악하려면:
1. 노션에서 최근 멘토링 기록 찾기
2. 이전 미팅 후속조치 실행 여부 확인
3. 전문가 요청 이력 확인
4. OKR 진척 확인
5. 이걸 종합해서 핵심 이슈 판단

이 과정이 **기업당 20~30분** 걸리고, 사람마다 파악 깊이가 다르며, 같은 문제가 반복되는데도 "왜 계속 안 풀리는지" 구조적 진단까지는 못 하고 있다.

### 배경
대표님이 "2026년 내 AI 멘토 베타 서비스 출시"를 지시한 것에서 시작. 실무 검토를 거쳐 리프레이밍:
- AS-IS: AI가 멘토를 대체
- TO-BE: 먼저 기업 정보를 잘 정리·진단할 수 있는 기반을 만들고, 그 위에 AI 기능을 얹는 방향

### 현재 구현 상태 (MVP 완료)
- Notion API 실시간 연동 (기업 정보, 멘토링, 전문가 요청, KPT, OKR)
- AI 멘토링 분석 (원문 → 5개 섹션 분석)
- AI 컨텍스트 브리핑 (전체 데이터 종합 → 7개 섹션)
- 신선도 자동 검증 (데이터 변경 시 갱신 안내)
- 2개 기업 파일럿 테스트 완료

기술 스택: Next.js 16 + TypeScript + Tailwind CSS + Claude API + Notion API

---

## 2. 사용자 스토리

### PM (사업실)
- "멘토 미팅 10분 전에, 이 기업이 지금 어떤 상황인지 빠르게 파악하고 싶다"
- "지난번 멘토가 한 조언을 기업이 실행했는지 안 했는지 알고 싶다"
- "같은 문제가 3번째 나오는데, 왜 안 풀리는 건지 구조적 원인을 알고 싶다"
- "이번 미팅에서 꼭 짚어야 할 질문이 뭔지 추천받고 싶다"

### 멘토
- "내가 지난번에 뭘 조언했고, 기업이 그 후에 어떻게 했는지 보고 미팅에 들어가고 싶다"
- "이 기업의 핵심 수치(MAU, 매출 등)와 최근 변화를 한눈에 보고 싶다"

### 경영진
- "배치 기업 전체가 지금 어떤 상태인지 한 페이지로 보고 싶다"
- "위기 신호가 있는 기업을 먼저 알고 싶다"

---

## 3. 핵심 기능 명세 (Functional Requirements)

### P0 — 핵심 (구현 완료)

| 기능 | 설명 | 상태 |
|------|------|------|
| 기업 검색 & 조회 | 기업명/산업/배치기수로 검색, 카드형 목록 | 완료 |
| 기업 프로필 | 기본정보, 투자단계, 팀규모, 산업분류 | 완료 |
| 멘토링 기록 조회 | 세션별 요약, 후속조치, 멘토명, 유형별 필터 | 완료 |
| AI 멘토링 분석 | 멘토링 원문 → 요약/표면이슈/근본원인/액션/리스크 5개 섹션 | 완료 |
| AI 컨텍스트 브리핑 | 전체 데이터 종합 → 7개 섹션 브리핑 자동 생성 | 완료 |
| 브리핑 신선도 검증 | 데이터 fingerprint 기반, 새 세션 추가 시 자동 갱신 안내 | 완료 |

### P1 — 중요 (다음 단계)

| 기능 | 설명 | 상태 |
|------|------|------|
| Slack 연동 | 기업별 채널의 최근 소통 맥락을 브리핑에 반영 | API 승인 요청 중 |
| 브리핑 품질 고도화 | "증상 나열"이 아닌 "구조적 진단" 수준으로 프롬프트 개선 | 진행 중 |
| 기업 커버리지 확대 | 파일럿 2개 → 현재 배치 전체 기업 | 대기 |
| 타임라인 통합 뷰 | 멘토링 + 전문가 요청 + KPT를 시간순 통합 표시 | 완료 |

### P2 — 확장

| 기능 | 설명 |
|------|------|
| 구글 드라이브 연동 | IR 자료, 지원서 등 문서 기반 컨텍스트 추가 |
| 자연어 Q&A | "넥스트그라운드 최근 매출 추이 알려줘" 같은 질의 |
| 멘토별 대시보드 | 내가 담당하는 기업들의 상태를 한눈에 |
| 유사 기업 추천 | "이 기업과 비슷한 단계/산업의 기업은?" |
| 멘토링 녹취 분석 | 녹음 → 텍스트 → 자동 인사이트 추출 |

---

## 4. 비기능적 요구사항

### 성능
- 기업 목록 로딩: 3초 이내 (Notion API 캐시 3분 TTL 적용)
- 브리핑 생성: 30초 이내 (Claude API 호출 포함)
- 멘토링 분석: 15초 이내

### 보안 & 접근 제어
- 내부 임직원만 접근 가능 (현재는 네트워크 레벨 제한, 향후 인증 추가)
- 기업 데이터 외부 노출 금지
- API 키(Anthropic, Notion)는 서버사이드에서만 사용, 클라이언트 노출 방지

### 데이터
- Notion API 호출 최소화: 병렬 조회 + 메모리 캐시(3분 TTL)
- AI 응답 검증: Zod 스키마로 구조 강제 (잘못된 응답은 파싱 단계에서 차단)
- 브리핑/분석 결과: JSON 파일 저장 (향후 DB 전환 대비 추상화 완료)

### 법적
- 멘토링 녹음: 녹음 동의 조항 포함 (진행 중)
- 기업 정보: 배치 지원 시 정보 활용 동의 확인 필요
- 외부 공개 시 별도 법무 검토 필요

---

## 5. 성공 지표 (Metrics for Success)

| 지표 | 현재 | 목표 | 측정 방법 |
|------|------|------|----------|
| 미팅 전 기업 파악 시간 | 20~30분 | 3분 이내 | PM 인터뷰 |
| 브리핑 데이터 소스 수 | 3개 (멘토링/KPT/OKR) | 5개+ (Slack, 드라이브 추가) | 소스 카운트 |
| 커버 기업 수 | 2개 (파일럿) | 현재 배치 전체 (~30개) | 대시보드 등록 기업 수 |
| 브리핑 품질 | 요약 수준 (증상 나열) | 구조적 진단 수준 | PM 정성 평가 |
| PM 주간 사용 빈도 | - | 주 3회 이상 | 접속 로그 |

---

## 6. 예외 상황 및 리스크 관리

| 리스크 | 영향 | 대응 |
|--------|------|------|
| Notion API 장애/속도 저하 | 기업 데이터 로딩 실패 | 3분 TTL 캐시로 직전 데이터 유지, 에러 시 사용자에게 안내 |
| Claude API 응답 형식 오류 | 브리핑 생성 실패 | Zod 스키마 검증 + 에러 핸들링으로 안전하게 실패, 재시도 안내 |
| AI 브리핑 hallucination | 잘못된 정보로 미팅 진행 | "근거 없는 추측 금지" 프롬프트 규칙 + 각 인사이트에 출처(근거) 명시 |
| Slack API 승인 지연 | 소통 맥락 누락 | Slack 없이도 멘토링/KPT/OKR만으로 브리핑 가능하도록 설계 |
| 멘토링 기록 미입력 | 데이터 부족으로 브리핑 품질 저하 | 데이터 부족 시 "최근 60일간 기록 없음" 명시, 빈 섹션 대신 안내 문구 |
| 토큰 한도 초과 | 대량 데이터 기업의 브리핑 잘림 | max_tokens 초과 시 에러 감지, 간결성 규칙으로 응답 크기 제한 |
| 기업 정보 외부 유출 | 보안 사고 | 서버사이드 전용 API, 네트워크 접근 제한, 향후 인증 체계 도입 |
